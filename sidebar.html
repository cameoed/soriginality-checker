<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    :root {
      --bg-color: #0f172a; --surface: #1e293b; --border: #334155;
      --text: #f1f5f9; --accent: #8b5cf6;
      --btn-start: #7c3aed; --btn-start-h: #6d28d9;
      --btn-stop: #ef4444; --btn-stop-h: #dc2626;
      --btn-save: #3b82f6; --btn-save-h: #2563eb;
    }
    body { font-family: 'Segoe UI', sans-serif; background: var(--bg-color); color: var(--text); margin: 0; padding: 16px; font-size: 13px; }
    
    /* Updated H2: Removed text-transform: uppercase */
    h2 { 
      margin: 0 0 16px 0; 
      font-size: 16px; 
      font-weight: 700; 
      border-bottom: 1px solid var(--border); 
      padding-bottom: 10px; 
      color: var(--text);
    }
    
    .controls { display: flex; flex-direction: column; gap: 10px; margin-bottom: 16px; }
    input[type="password"] { background: var(--surface); border: 1px solid var(--border); color: var(--text); padding: 10px; border-radius: 6px; outline: none; width: 100%; box-sizing: border-box; }
    input[type="password"]:focus { border-color: var(--accent); }
    
    .toggle-row { display: flex; align-items: center; gap: 8px; margin-bottom: 5px; }
    input[type="checkbox"] { width: 16px; height: 16px; accent-color: var(--accent); cursor: pointer; }
    .toggle-label { font-size: 12px; color: #cbd5e1; cursor: pointer; user-select: none; }

    .btn-group { display: flex; gap: 8px; width: 100%; }
    
    button { 
      flex: 1; padding: 10px; border: none; border-radius: 6px; cursor: pointer; 
      font-weight: 600; color: white; font-size: 12px; transition: 0.2s; white-space: nowrap;
    }
    button:active { transform: scale(0.98); }
    
    #startBtn { background: var(--btn-start); } #startBtn:hover { background: var(--btn-start-h); }
    #stopBtn { background: var(--btn-stop); display: none; } #stopBtn:hover { background: var(--btn-stop-h); }
    #exportBtn { background: var(--btn-save); display: none; } #exportBtn:hover { background: var(--btn-save-h); }

    #status { margin-bottom: 12px; padding: 8px 12px; background: var(--surface); border-radius: 4px; border-left: 3px solid var(--accent); font-size: 11px; color: #cbd5e1; }
    
    .table-container { height: calc(100vh - 280px); overflow-y: auto; border: 1px solid var(--border); border-radius: 6px; background: var(--surface); }
    ::-webkit-scrollbar { width: 8px; } ::-webkit-scrollbar-track { background: var(--bg-color); } ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }
    
    table { width: 100%; border-collapse: collapse; table-layout: fixed; }
    th { background: #0f172a; position: sticky; top: 0; padding: 10px; text-align: left; font-size: 11px; color: #94a3b8; border-bottom: 1px solid var(--border); z-index: 10; font-weight: 600; }
    td { padding: 10px; border-bottom: 1px solid var(--border); background: var(--surface); vertical-align: middle; font-size: 12px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    tr:hover td { background: #28364d; }
    th:nth-child(1) { width: 70px; text-align:center; }
    
    .thumb-orig { width: 44px; height: 44px; object-fit: cover; border-radius: 4px; border: 1px solid #475569; }
    .result-link { display: block; color: #60a5fa; text-decoration: none; font-size: 12px; margin-bottom: 3px; font-weight: 500; }
    .result-link:hover { text-decoration: underline; color: #93c5fd; }
    .result-domain { font-size: 10px; color: #94a3b8; }
    .empty-cell { color: #475569; font-style: italic; font-size: 10px; }

    /* BADGES */
    .badge-exact {
      background: #10b981; /* Green */
      color: #fff; font-size: 9px; padding: 2px 4px; 
      border-radius: 3px; font-weight: 700; margin-top: 4px; display: inline-block;
      cursor: default;
    }
    
    .badge-warning {
      background: #f59e0b; /* Yellow/Amber */
      color: #000; /* Dark text for contrast */
      font-size: 9px; padding: 2px 4px; 
      border-radius: 3px; font-weight: 700; margin-top: 4px; display: inline-block;
      cursor: help;
    }

    .btn-broader {
      background: #334155; color: #94a3b8; border: 1px dashed #475569;
      width: 100%; padding: 8px; font-size: 11px; margin: 0;
    }
    .btn-broader:hover {
      background: #1e293b; color: #f1f5f9; border-color: #64748b;
    }
  </style>
</head>
<body>
  <h2>Soriginality Checker</h2>
  <div class="controls">
    <input type="password" id="apiKey" placeholder="SerpAPI Key...">
    <div class="toggle-row">
      <input type="checkbox" id="exactMatch">
      <label for="exactMatch" class="toggle-label" title="Only returns identical image matches">Strict Mode (Exact Match Only)</label>
    </div>
    <div class="btn-group">
      <button id="startBtn">Start</button>
      <button id="stopBtn">Stop</button>
      <button id="exportBtn">Save Results</button>
    </div>
  </div>
  <div id="status">Idle. Ready to scan.</div>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Post</th>
          <th>Result 1</th>
          <th>Result 2</th>
          <th>Result 3</th>
          <th>Result 4</th>
          <th>Result 5</th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>
  </div>
  <script src="sidebar.js"></script>
</body>
</html>